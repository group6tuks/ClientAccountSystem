<!DOCTYPE html>
<html lang="en">
<head>
    <title>Client Accounts System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!-- Angular link-->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <!-- <link rel="stylesheet" href="stylesheets/style.css">
    <script src="javascripts/main.js"></script> -->
    <style>
        body {
            padding: 10px;
            background-color: white;
            color: #10A8AB;
            font-family: "Arial Black", Times, serif;
        }

        a {
            color: #00B7FF;
        }

        .thetitle {
            margin-left: 3px;
        }

        #title {
            margin-right: 7px;
        }

        #name {
            margin-right: 7px;
        }

        .create {
            align-content: center;
            margin-left: 20%;
        }

        .leftDiv {
            height: 500px;
            background-color: lightgray;
        }

        .rightDiv {
            height: 500px;
        }


        /*FNB Logo*/
        #logo {
            height: 50%;
            display: flex;
            align-items: right;
            justify-content: right;
            padding-right: 15px;
        }

        .logo {
            width: 10%;
            height: 10%;
        }

        #headerText {
            text-align: start;
            align-items: right;
            justify-content: right;
        }

        #line {
            border: 1px solid #10A8AB;
            background-color: #10A8AB;
            border-radius: 5px;
        }

        /*Headings*/
        h1, h2, h3, h4 {
            color: #10A8AB;
            font-family: "Arial Black", Times, serif;
        }

        h1 {
            font-family: "Comic Sans MS", Times, serif;
            text-shadow: 2px 2px black;
            /* Comic Sans MS Berlin Sans FB*/
        }

        #next {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 90px;
        }

        #group {
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 1px 1px black;
        }

        .names-div {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 11%;
        }

        .names {
            font-family: "Century Gothic", Times, serif;
            font-size: 20px;
            margin-left: 14%;
            color: #10A8AB;
        }

        .links {
            font-family: "Century Gothic", Times, serif;
            color: #10A8AB;
        }



        .tags {
            color: #10A8AB;
            font-size: 18px;
            font-family: "Century Gothic", Times, serif;
        }

        .inputs {
            width: auto;
            height: 35px;
        }

        select[name="title"] {
            width: 60%;
        }

        label {
            text-align: right;
            clear: both;
            float: left;
            margin-right: 15px;
        }

        .bb {
            background-color: #10A8AB;
            border-color: #10A8AB;
            width: 100%;
        }

        .about-self {
            font-family: "Century Gothic", Times, serif;
            font-size: 17px;
        }

        /*-------------------------------------------------------------------*/

        /*

        .form-style-9{
            max-width: 450px;
            background: #FAFAFA;
            padding: 30px;
            margin: 50px auto;
        }
        .form-style-9 ul{
            padding:0;
            margin:0;
            list-style:none;
        }
        .form-style-9 ul li{
            display: block;
            margin-bottom: 10px;
            min-height: 35px;
        }
        .form-style-9 ul li  .field-style{
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            padding: 8px;
            outline: none;
            border: 1px solid #B0CFE0;
            -webkit-transition: all 0.30s ease-in-out;
            -moz-transition: all 0.30s ease-in-out;
            -ms-transition: all 0.30s ease-in-out;
            -o-transition: all 0.30s ease-in-out;

        }.form-style-9 ul li  .field-style:focus{
            box-shadow: 0 0 5px #B0CFE0;
            border:1px solid #B0CFE0;
        }
        .form-style-9 ul li .field-split{
            width: 49%;
        }
        .form-style-9 ul li .field-full{
            width: 100%;
        }
        .form-style-9 ul li input.align-left{
            float:left;
        }
        .form-style-9 ul li input.align-right{
            float:right;
        }
        .form-style-9 ul li textarea{
            width: 100%;
            height: 100px;
        }
        .form-style-9 ul li input[type="button"],
        .form-style-9 ul li input[type="submit"] {
            -moz-box-shadow: inset 0px 1px 0px 0px #3985B1;
            -webkit-box-shadow: inset 0px 1px 0px 0px #3985B1;
            box-shadow: inset 0px 1px 0px 0px #3985B1;
            background-color: #216288;
            border: 1px solid #17445E;
            display: inline-block;
            cursor: pointer;
            color: #FFFFFF;
            padding: 8px 18px;
            text-decoration: none;
            font: 12px Arial, Helvetica, sans-serif;
        }
        .form-style-9 ul li input[type="button"]:hover,
        .form-style-9 ul li input[type="submit"]:hover {
            background: linear-gradient(to bottom, #2D77A2 5%, #337DA8 100%);
            background-color: #28739E;
        }

        */
    </style>
</head>

<body ng-app="myApp">
    <div class="container">
        <div class="row" id="logo">
            <img src="https://res.cloudinary.com/dpxsqdu6h/image/upload/v1550602530/fnb-logo.png" class="logo">
        </div>
        <hr id="line">
        <h1 id="headerText">Client Accounts System</h1>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md"><button type="button" class="btn btn-primary bb" id="create">New</button></div>
            <div class="col-md"><button type="button" class="btn btn-primary bb" id="search">Search</button></div>
            <div class="col-md"><button type="button" class="btn btn-primary bb" id="dep">Deposit</button></div>
            <div class="col-md"><button type="button" class="btn btn-primary bb" id="withdraw">Withdrawal</button></div>
        </div>
        <br><br> <br>

        <div class="row">
            <!-- Create User -->
            <div class="create">
                <div class="form-group">
                    <form action="createUser.html" id="createUserForm" method="POST">
                        <div class="form-group">
                            <label class="tags">Account ID:</label>
                            <input type="number" class="form-control inputs tags" id="AccountId">
                        </div>
                        <div class="form-group parent">
                            <label class="tags">Select Account type:</label>
                            <select name="AccountType" class="form-control tags inputs" id="AccType">
                                <option class="select"></option>
                                <option name="Savings">Savings</option>
                                <option name="Cheque" id="select_two">Cheque</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary bb">Submit</button>
                    </form>
                </div>
            </div>
            <!-- Search -->
            <div class="search">
                <div class="form-group" ng-controller="UserID">
                    <form>
                        <label class="tags">Search User ID:</label>
                        <input type="text" class="form-control inputs tags" ng-model="data.userId">
                        <br />
                        <input type="submit" value="Submit" class="btn btn-primary bb" ng-click="submit()">
                    </form>
                    <br />
                    <div id="return">
                        <textarea type="text" class="form-control inputs tags" value="">{{data.returnAccLinked}}</textarea>
                        
                    </div>
                </div>
                <div class="form-group" ng-controller="AccountID">
                    <form>
                        <label class="tags">Search Account ID:</label><input type="text" class="form-control inputs tags" id="search" ng-model="data.AccountId">
                        <br />
                        <input type="submit" value="Submit" class="btn btn-primary bb" ng-click="submit()">
                    </form>
                    <br />
                    <div id="return">
                        <textarea type="text" class="form-control inputs tags">{{data.returnAccountType}}</textarea>
                    </div>
                </div>
            </div>

            <!-- Withdraw -->
            <div class="Withdrawal">
                <div class="form-group">
                    <!-- <form id="withdrawalForm"> -->
                    <label class="tags">Enter User ID:</label><input type="text" class="form-control inputs tags" id="userID">
                    <br />
                    <label class="tags">Enter withdrawal Amount:</label><input type="text" class="form-control inputs tags" id="withdrawal">
                    <br />
                    <button type="submit" class="btn btn-primary bb" id="submitWithdrawal">Submit</button>
                    <!-- </form>-->
                </div>
            </div>

            <!-- Deposit -->
            <div class="Deposit">
                <div class="form-group">
                    <form action="deposit.html" id="depositForm" method="POST">
                        <label class="tags">Enter User ID:</label><input type="text" class="form-control inputs tags" id="userID">
                        <br />
                        <label class="tags">Enter deposit Amount:</label><input type="text" class="form-control inputs tags" id="deposit">
                        <br />
                        <button type="submit" class="btn btn-primary bb">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <br />

    <script type="text/javascript">

        var app = angular.module('myApp', []);

        app.controller('UserID', function ($scope, $http) {
            $scope.data = {};
            $scope.submit = function () {
                console.log('clicked submit');
                $http({
                    url: 'http://localhost:8080/searchUserID',
                    method: 'POST',
                    data: $scope.data
                }).then(function (httpResponse) {
                    console.log('response:', httpResponse.data);
                    $scope.data.returnAccLinked = httpResponse.data.account;
                })
            }
        });

        app.controller('AccountID', function ($scope, $http) {
            $scope.data = {};
            $scope.submit = function () {
                console.log('clicked submit');
                $http({
                    url: 'http://localhost:8080/searchaccountID',
                    method: 'POST',
                    data: $scope.data
                }).then(function (httpResponse) {
                    console.log('response:', httpResponse.data);
                    $scope.data.returnAccountType = httpResponse.data.accounttype;
                })
            }
        });


        $(document).ready(function () {
            $(".search").hide();
            $('.Deposit').hide();
            $('.Withdrawal').hide();

            $('#create').on('click', function () {
                $('.create').fadeIn(550);
                $('.Deposit').hide();
                $('.Withdrawal').hide();
                $('.search').hide();
            });

            $('#search').on('click', function () {
                $('.search').fadeIn(550);
                $('.Deposit').hide();
                $('.Withdrawal').hide();
                $('.create').hide();
            });

            $('#dep').on('click', function () {
                $('.Deposit').fadeIn(550);
                $('.search').hide();
                $('.Withdrawal').hide();
                $('.create').hide();
            });

            $('#withdraw').on('click', function () {
                $('.Withdrawal').fadeIn(550);
                $('.search').hide();
                $('.Deposit').hide();
                $('.create').hide();
            });

            $('#submitWithdrawal').on('click', function () {
                var id = $('#userID').val();
                var amount = $('#withdrawal').val();
                alert('i: ' + id);
                alert('amount: ' + amount);
                alert(model.logWithdrawalTransaction(id, amount))
            });
        });
    </script>

</body>
</html>